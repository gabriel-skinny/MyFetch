function cov_1ew362a0ix(){var path="/home/gabriel/Documentos/javascript/live4/src/request.js";var hash="1b76f06f466e5663140f47aaa635df4b8f0ab8c4";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/gabriel/Documentos/javascript/live4/src/request.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:30}},"1":{start:{line:2,column:20},end:{line:2,column:35}},"2":{start:{line:6,column:17},end:{line:6,column:94}},"3":{start:{line:6,column:41},end:{line:6,column:94}},"4":{start:{line:6,column:47},end:{line:6,column:94}},"5":{start:{line:9,column:4},end:{line:11,column:6}},"6":{start:{line:10,column:6},end:{line:10,column:57}},"7":{start:{line:15,column:4},end:{line:24,column:6}},"8":{start:{line:17,column:6},end:{line:23,column:28}},"9":{start:{line:18,column:22},end:{line:18,column:24}},"10":{start:{line:19,column:8},end:{line:21,column:63}},"11":{start:{line:20,column:30},end:{line:20,column:46}},"12":{start:{line:21,column:27},end:{line:21,column:62}},"13":{start:{line:28,column:4},end:{line:31,column:6}},"14":{start:{line:35,column:0},end:{line:35,column:25}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:6,column:17},end:{line:6,column:18}},loc:{start:{line:6,column:41},end:{line:6,column:94}},line:6},"1":{name:"(anonymous_1)",decl:{start:{line:6,column:41},end:{line:6,column:42}},loc:{start:{line:6,column:47},end:{line:6,column:94}},line:6},"2":{name:"(anonymous_2)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:33},end:{line:12,column:3}},line:8},"3":{name:"(anonymous_3)",decl:{start:{line:9,column:23},end:{line:9,column:24}},loc:{start:{line:9,column:44},end:{line:11,column:5}},line:9},"4":{name:"(anonymous_4)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:17},end:{line:25,column:3}},line:14},"5":{name:"(anonymous_5)",decl:{start:{line:15,column:23},end:{line:15,column:24}},loc:{start:{line:15,column:44},end:{line:24,column:5}},line:15},"6":{name:"(anonymous_6)",decl:{start:{line:17,column:21},end:{line:17,column:22}},loc:{start:{line:17,column:28},end:{line:22,column:7}},line:17},"7":{name:"(anonymous_7)",decl:{start:{line:20,column:22},end:{line:20,column:23}},loc:{start:{line:20,column:30},end:{line:20,column:46}},line:20},"8":{name:"(anonymous_8)",decl:{start:{line:21,column:21},end:{line:21,column:22}},loc:{start:{line:21,column:27},end:{line:21,column:62}},line:21},"9":{name:"(anonymous_9)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:27,column:45},end:{line:32,column:3}},line:27}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1b76f06f466e5663140f47aaa635df4b8f0ab8c4"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1ew362a0ix=function(){return actualCoverage;};}return actualCoverage;}cov_1ew362a0ix();const https=(cov_1ew362a0ix().s[0]++,require("https"));const{resolve}=(cov_1ew362a0ix().s[1]++,require("path"));class Request{erorrTimeout=(cov_1ew362a0ix().s[2]++,(reject,urlRequest)=>{cov_1ew362a0ix().f[0]++;cov_1ew362a0ix().s[3]++;return()=>{cov_1ew362a0ix().f[1]++;cov_1ew362a0ix().s[4]++;return reject(new Error(`timeout at [${urlRequest}]`));};});raceTimeoutDelay(url,timeout){cov_1ew362a0ix().f[2]++;cov_1ew362a0ix().s[5]++;return new Promise((resolve,reject)=>{cov_1ew362a0ix().f[3]++;cov_1ew362a0ix().s[6]++;setTimeout(this.erorrTimeout(reject,url),timeout);});}async get(url){cov_1ew362a0ix().f[4]++;cov_1ew362a0ix().s[7]++;return new Promise((resolve,reject)=>{cov_1ew362a0ix().f[5]++;cov_1ew362a0ix().s[8]++;https.get(url,res=>{cov_1ew362a0ix().f[6]++;const items=(cov_1ew362a0ix().s[9]++,[]);cov_1ew362a0ix().s[10]++;res.on('data',data=>{cov_1ew362a0ix().f[7]++;cov_1ew362a0ix().s[11]++;return items.push(data);}).on('end',()=>{cov_1ew362a0ix().f[8]++;cov_1ew362a0ix().s[12]++;return resolve(JSON.parse(items.join("")));});}).on("error",reject);});}async makeRequest({url,method,timeout}){cov_1ew362a0ix().f[9]++;cov_1ew362a0ix().s[13]++;return Promise.race([this[method](url),this.raceTimeoutDelay(url,timeout)]);}}cov_1ew362a0ix().s[14]++;module.exports=Request;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlcXVlc3QuanMiXSwibmFtZXMiOlsiaHR0cHMiLCJyZXF1aXJlIiwicmVzb2x2ZSIsIlJlcXVlc3QiLCJlcm9yclRpbWVvdXQiLCJyZWplY3QiLCJ1cmxSZXF1ZXN0IiwiRXJyb3IiLCJyYWNlVGltZW91dERlbGF5IiwidXJsIiwidGltZW91dCIsIlByb21pc2UiLCJzZXRUaW1lb3V0IiwiZ2V0IiwicmVzIiwiaXRlbXMiLCJvbiIsImRhdGEiLCJwdXNoIiwiSlNPTiIsInBhcnNlIiwiam9pbiIsIm1ha2VSZXF1ZXN0IiwibWV0aG9kIiwicmFjZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJ5OUZBZVk7MkZBZlosS0FBTUEsQ0FBQUEsS0FBSywwQkFBR0MsT0FBTyxDQUFDLE9BQUQsQ0FBVixDQUFYLENBQ0EsS0FBTSxDQUFFQyxPQUFGLDJCQUFjRCxPQUFPLENBQUMsTUFBRCxDQUFyQixDQUFOLENBRUEsS0FBTUUsQ0FBQUEsT0FBUSxDQUVaQyxZQUFZLDBCQUFHLENBQUNDLE1BQUQsQ0FBU0MsVUFBVCxHQUF3QiwyREFBTSx1REFBQUQsQ0FBQUEsTUFBTSxDQUFDLEdBQUlFLENBQUFBLEtBQUosQ0FBVyxlQUFjRCxVQUFXLEdBQXBDLENBQUQsQ0FBTixDQUErQyxDQUFyRCxDQUFxRCxDQUFoRixFQUVaRSxnQkFBZ0IsQ0FBQ0MsR0FBRCxDQUFNQyxPQUFOLENBQWUsaURBQzdCLE1BQU8sSUFBSUMsQ0FBQUEsT0FBSixDQUFZLENBQUNULE9BQUQsQ0FBVUcsTUFBVixHQUFxQixpREFDdENPLFVBQVUsQ0FBQyxLQUFLUixZQUFMLENBQWtCQyxNQUFsQixDQUEwQkksR0FBMUIsQ0FBRCxDQUFpQ0MsT0FBakMsQ0FBVixDQUNELENBRk0sQ0FBUCxDQUdELENBRVEsS0FBSEcsQ0FBQUEsR0FBRyxDQUFDSixHQUFELENBQU0saURBQ2IsTUFBTyxJQUFJRSxDQUFBQSxPQUFKLENBQVksQ0FBQ1QsT0FBRCxDQUFVRyxNQUFWLEdBQXFCLGlEQUV0Q0wsS0FBSyxDQUFDYSxHQUFOLENBQVVKLEdBQVYsQ0FBZUssR0FBRyxFQUFJLHlCQUNwQixLQUFNQyxDQUFBQSxLQUFLLDBCQUFHLEVBQUgsQ0FBWCxDQURvQix5QkFFcEJELEdBQUcsQ0FDQUUsRUFESCxDQUNNLE1BRE4sQ0FDY0MsSUFBSSxFQUFJLHdEQUFBRixDQUFBQSxLQUFLLENBQUNHLElBQU4sQ0FBV0QsSUFBWCxFQUFnQixDQUR0QyxFQUVHRCxFQUZILENBRU0sS0FGTixDQUVhLElBQU0sd0RBQUFkLENBQUFBLE9BQU8sQ0FBQ2lCLElBQUksQ0FBQ0MsS0FBTCxDQUFXTCxLQUFLLENBQUNNLElBQU4sQ0FBVyxFQUFYLENBQVgsQ0FBRCxDQUFQLENBQW1DLENBRnRELEVBR0QsQ0FMRCxFQU1HTCxFQU5ILENBTU0sT0FOTixDQU1lWCxNQU5mLEVBT0QsQ0FUTSxDQUFQLENBVUQsQ0FFZ0IsS0FBWGlCLENBQUFBLFdBQVcsQ0FBQyxDQUFFYixHQUFGLENBQU9jLE1BQVAsQ0FBZWIsT0FBZixDQUFELENBQTBCLGtEQUN6QyxNQUFPQyxDQUFBQSxPQUFPLENBQUNhLElBQVIsQ0FBYSxDQUNsQixLQUFLRCxNQUFMLEVBQWFkLEdBQWIsQ0FEa0IsQ0FFbEIsS0FBS0QsZ0JBQUwsQ0FBc0JDLEdBQXRCLENBQTJCQyxPQUEzQixDQUZrQixDQUFiLENBQVAsQ0FJRCxDQTVCVyxDLHlCQStCZGUsTUFBTSxDQUFDQyxPQUFQLENBQWlCdkIsT0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBodHRwcyA9IHJlcXVpcmUoXCJodHRwc1wiKTtcbmNvbnN0IHsgcmVzb2x2ZSB9ID0gcmVxdWlyZShcInBhdGhcIik7XG5cbmNsYXNzIFJlcXVlc3Qge1xuICBcbiAgZXJvcnJUaW1lb3V0ID0gKHJlamVjdCwgdXJsUmVxdWVzdCkgPT4gKCkgPT4gcmVqZWN0KG5ldyBFcnJvcihgdGltZW91dCBhdCBbJHt1cmxSZXF1ZXN0fV1gKSlcbiAgXG4gIHJhY2VUaW1lb3V0RGVsYXkodXJsLCB0aW1lb3V0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHNldFRpbWVvdXQodGhpcy5lcm9yclRpbWVvdXQocmVqZWN0LCB1cmwpLCB0aW1lb3V0KVxuICAgIH0pXG4gIH1cblxuICBhc3luYyBnZXQodXJsKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIFxuICAgICAgaHR0cHMuZ2V0KHVybCwgcmVzID0+IHtcbiAgICAgICAgY29uc3QgaXRlbXMgPSBbXVxuICAgICAgICByZXNcbiAgICAgICAgICAub24oJ2RhdGEnLCBkYXRhID0+IGl0ZW1zLnB1c2goZGF0YSkpXG4gICAgICAgICAgLm9uKCdlbmQnLCAoKSA9PiByZXNvbHZlKEpTT04ucGFyc2UoaXRlbXMuam9pbihcIlwiKSkpKVxuICAgICAgfSlcbiAgICAgICAgLm9uKFwiZXJyb3JcIiwgcmVqZWN0KVxuICAgIH0pIFxuICB9XG5cbiAgYXN5bmMgbWFrZVJlcXVlc3QoeyB1cmwsIG1ldGhvZCwgdGltZW91dH0pIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yYWNlKFtcbiAgICAgIHRoaXNbbWV0aG9kXSh1cmwpLFxuICAgICAgdGhpcy5yYWNlVGltZW91dERlbGF5KHVybCwgdGltZW91dClcbiAgICBdKVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUmVxdWVzdDsiXX0=